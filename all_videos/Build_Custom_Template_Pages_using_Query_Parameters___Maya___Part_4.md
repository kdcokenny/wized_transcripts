Hello and welcome to the last video of this Maya series. In this video, we're gonna learn how to create a request based on a value that's being passed through the URL in something called query parameters. It sounds all complex, but it's actually very simple. And then we're gonna learn how to populate data on the page based on the value we got from the request. So let's get started without any further ado. In our last video, we were setting up an action that changes the link in this button. And we were appending a query parameter inside of the URL. We can see here that here we have the action. If we expand the configuration, you're going to see that we're setting the HTML attribute called href, which is in a link. And we are setting it to this value over here. And everything that comes after a question mark in a URL are these query parameters. And we can use these to store values. So in this case, we are passing the value of id equals and then we have the id of the current order. So you could chain as many query parameters as you want. So basically, if you need to pass data from one page to the other through the URL, you can do it this way. So for example, here you can write also and for example, you could write name equals john. And you could add as many of those query parameters as you want. You can just chain them with this and symbol over here. All right, now I'm going to delete all the things I don't need. And I'm going to leave just the configuration that I had previously. And right now we can see that in action. If we look at the live site and we look at the URL here, if I click on any of these buttons, you can see that this order id of 28, for example, gets propagated. So here you can see I have this id 28. So let's learn now how to use this in UIST. All right, the first thing you need to do is go to page data. And here you can see that we have variables, navigation and cookies. And all three of those have something in common. They are all ways of storing data. In a variable, you can store any data. Same thing with the navigation, you can store any string there. And in the cookies, you can also store any value. So in this case, we're going to create a new query parameter here. And remember earlier, we are passing a query parameter of id. So we're also going to call it here id. It's important that these are matching. And that's it. Our query parameter has been created. Now we can use it in our application. So basically what we want to do is we want to trigger a request on the order details page. And we want to populate the data. Basically, we want to display all of the products that have been in this order. All right, so we have to fetch the order with that id that we are storing inside of the query parameter. So we're going to go to data in. And we are going to call this get order details or load order details. We're going to use Xano for that. And now we have to specify the URL endpoint. So let's go to Xano. And here we're going to look at our endpoints. And we're going to look at the orders endpoints. Now, specifically, we want to get the order with that id. As you can see, for this input, we only have to specify the order id. And once we send an order id to this endpoint, the endpoint will check whether this order id belongs to the person who requested it. If the person is a customer or if it's a supplier, it's going to display it no matter what because suppliers should have insight into each and every order. All right. So here, basically, if we try to run and debug this, we can write an order id of an order that's been created. Earlier, we had 28. So let's check this one. And we can see that all of these products belong to this order. Perfect. Now let's build our request inside of UIST. So we have the endpoint, which is this endpoint over here. We're going to paste this in. And now here, we're going to delete this part. And we're going to go on the general navigation. And here we have our id parameter. And we're going to select this. Now, UIST also allows you to test your query parameters. Basically, on this page, you can add any parameters and you can test out your solution. So in this case, I'm going to call the parameter id. Let's say here, I'm going to write 28. And now I'll be able to use this parameter value inside of the configurator to test things out. Okay. Now let's go back to our request. So we can see here that now this id parameter is getting the value that I specified above. Okay. Here under method, we're going to choose get. Authorization, we have to pass it a cookie so that the backend can check whether this user is supposed to see this order or not to make it secure. So we're going to expand this. And now here, we're going to select the auth token cookie. And under trigger, we're going to trigger this request on page load. And we're going to trigger this on the order details page, both on the supplier end and on the customer end. So we can just expand this x-ray mode here. And we can see here that we have order details, price, order details, product total. And you could literally pick any of these attributes because any of these attributes is only visible on these pages. So let's choose order details product. And if we run this request now, we're going to see the products that have been ordered in the order with the ID of 28 in this case. But it would work with any ID that we pass it. And there we go. And now we basically just have to configure actions that are going to populate these fields based on the data from this request. We did that so many times, so it's actually quite simple. We're going to expand the actions panel and we're going to create a new folder first. Here, I'm going to call it order details. And the first action that we're going to create is render list. Here, we're going to apply it to this product list. We're going to render a list. And here we have to specify the array from which this list is going to be rendered. So here, we're not going to render the list from this first object over here, but instead we're going to specify this ordered products array. And now we have to choose the variable for index. In this case, it's the same v.i variable which we created at the beginning. Perfect. Now let's build the rest of the actions. So we want to replace the product title, the price, the item count, and the total. So let's start with setting the title. You can scroll left and right by scrolling here, or you can hold shift to scroll left and right. So here, what we want to select is this title field. And always we have to replace the index with our variable. Now that we're rendering a list of items and we're setting the title, we are going to set the price, the item count, and the total. The total is going to be a computed value. Basically, we're going to multiply the item count with the price. Okay, so let's start with the price. We're going to call this action set price. We're going to apply it to our order details folder. And here we have to select the product price attribute. Order details, product price. Perfect. Under configuration, we're going to choose also set text, plain text. Here, we're going to select the price field. And we're going to prepend the dollar sign because we don't want just a number, we also want to display the currency symbol. We also have to replace this index here with our variable. Okay, next we have to set the item count. And under configuration, we're going to choose set text, plain text. And just like we did in our last video, we want to check whether there's only one item or if there are multiple items. And then if it's one item, we're going to say item. And then otherwise, if it's, let's say 12 items, we're going to write 12 items. Okay, so let's expand this field. Let's look at our request. And what we want to use in our request is this quantity field over here. And what we want to do here is replace this with our variable. So we're getting the value for each and every item. And then what we're going to do here is we're going to write a conditional statement. So we're going to check if the quantity is one. And this is our condition. So this is if, if this is true, we're going to do x. If this is true, we're going to do x. In this case, if this is true, what we want to say is we want to display quantity and the word items. Sorry, item, because if it's one, then it's an item, okay? Otherwise, what we want to do is basically let's copy the same thing. Otherwise, we want to write items. And of course, we should add a space here. So if product quantity equals one, we're going to say one item. Otherwise, if it's a larger number, it's going to say the number and then items. Perfect, in this case, it's 20 items. Okay, and now we can refresh the canvas and see how this looks. And the last thing we have to do here is we have to multiply the quantity with the price. So let's create that last action. Here, we're going to call it setTotal. We're going to apply it to this total item. And under configuration, we're going to choose setText, plainText. And here, we're going to find the quantity field. Then inside of these squiggly brackets, you can just do math. So we're going to just multiply these two values. Product price, and there we have it. And before the squiggly brackets, we are just going to prepend a quantity. We're going to prepend a currency symbol. Awesome. And as you can see, this is not working. It's just displaying this first price everywhere because we forgot to set our variable inside of this index field. So let's do that. And now our index here is getting updated programmatically and all of these values will always be correct. Now, if we refresh the canvas, we can see that this total equals to 20 times 999. This one equals 745 times 2,875, and so on. Okay, now the last thing we have to replace are this date over here, the total, and the order ID here. So let's start with this order ID. We're also going to get this from our request. Here, we're going to select order details ID, and under configuration, we're also going to set the text. To the ID of the item. Perfect. Now here, we are not looping through any items, so we don't need the iterator variable. Same thing for the date and the total. Okay, now let's set the total price. Okay, now let's set the order ID. We're also going to get this from our request, and under configuration, we're also going to set the text. Perfect. Now, if we refresh the canvas, we can see that this total equals to 20 times 999, and so on. Perfect. Now, if we refresh the canvas, we can see that this total equals to 20 times 999, and also we have to prepend the currency. Same thing here. I forgot to add the hash symbol. Okay. And now we just have to set the date, and we're going to do the same thing as we did in our previous tutorial. We're going to make sure that this date gets formatted correctly. Now, we're just going to copy the same value that we set earlier. We already have the date here. Set date. And we can just copy this value and just replace this created at. Now, we're going to create a new action. We're going to call it set date. It's going to be in our order details folder, and here we're going to apply this to our date symbol here. And under configuration, we're going to choose set text, plain text. Here, we're going to paste our formula, and now we just have to replace this field over here with our field. In this case, we have this created at timestamp, so let's delete whatever is inside here, and let's add this one. Perfect. And now, if I refresh the page, we should see October here. Awesome. October the 3rd, 2022. Perfect. And that's basically it. Now, if we wanted to check other orders, it's going to work just like it works here. Basically, let's expand all orders and let's check another order which doesn't have the ID of 28. Let's say we go here. And as you can see, we get the data for order number 32. And that's it for today's video. Now, let's recap what we just learned. We started by going to page data and creating a new query parameter, then we moved to adding this query parameter to our canvas so that we can use it inside of the configurator, and then we moved to building a request with the value from the parameter, and at the end, we learned how to render data on the page based on the request response. With that said, we officially came to the end of this awesome Maya walkthrough series, and we went through so much. We started first by learning how to set up some advanced authentication with loaders and error messages, etc. Then we moved to rendering a lot of different lists all across the site, and at the end, we learned how to display data based on query parameter values. Thank you so much for watching, and I'll see you in the next videos. Cheers.