Hello and welcome to the second video of this awesome series. In this video, we're going to learn how to render a list of products on our page. And we're not going to stop there. We're also going to add the add to cart functionality. So when a user adds a product to cart, the products are going to be here in this cart. Without any further ado, let's jump right into it. So we already added Zano in our first video and we can see that in Zano we have a database for our products and here we have several products. We also have an image, a price tag, how many items are there in stock, and a title for each product. Alright, let's head back to UIST and let's set this up and running. Ok, so the first thing we have to do here is we have to set up a request that's going to fetch these products. So let's go to data in and here we're going to create a new request. We're going to call it get product. And here under app we're going to select Zano. Finally we have to add the URL endpoint. And that we can find in Zano. So we're going to go to API, we're going to select our group, and here if we go under products, we have this first request which is called get product. And as you can see we have this endpoint URL button. Let's click on it and now we can see that the URL has been copied to clipboard. And we can paste it in here. Now note that we don't need the whole URL because this is our group base URL. We only need this portion over here. Alright we can save that. And you can see that it's matching exactly what we're having here so you can always copy the values from here. Awesome. So we have that selected. We're going to select get. And here we don't have to send anything because this is a public endpoint, it's not locked so we don't need to send our authorization token in order to get the product. Alright so all we have to do is we have to set up a trigger for this product. We can see here that if we run this request we get a list of all of the products. We have three products. So index zero, this is our first product here, second product, and third product. Alright. Now it's time to set up a trigger for our request. So we're going to go to the trigger section and here we're going to add a trigger on page load action. Awesome. Under attribute we're going to select any attribute that's on the home page. In this case, I'm going to select a product attribute. Awesome. And our request is basically ready. Now we just have to use our template product and render a list of products based on that template. Okay. So let's create that in our actions. We can start a new folder here. We can call it products. And here the first action I'm going to call render product list. I'm going to apply it to our product item. And under configuration I'm going to choose render list. And here I have to specify the array from which this list is going to get rendered. This is sort of like choosing a collection, let's say. So we're going to open our get products request and we're going to select this first item. This is the array that contains all of our products. All right. That's it. And now here we have to select a variable for indexing. We're going to get to that in a little bit, but for now we first have to create that variable in our page data. So we're going to go under general, variables, and I'm just going to call it i. Okay. And the initial value I can set to zero. Awesome. I can close it now and I can go back to our action. Now, under variable for index, I can select the variable that we just created. Perfect. And now if we hit refresh on the canvas, we're going to see that multiple products get rendered, but the same item gets repeated over and over again. It's sort of like when you have a collection item in Webflow. And first, when you drop an item inside of a collection, it just duplicates. Then you have to map the different fields. So let's do that. We're going to create a new action. And first, we're going to just replace the title. We're going to call the action set title, and we're going to choose also the product folder. Here, we're going to apply to the product title. And under configuration, we're going to choose set text, text type plain text. And under text, we're going to choose the title of the product. We can choose the first product here. And now the only thing we have to do is replace this number over here with our variable. Okay. Now, why are we doing that? Well, we have to iterate through each and every product. And the variable is updating with each and every round that it makes. So for each loop, we are adding one to this variable. So the first product is going to have the index 0. The second product is going to have the index 1. The third product is going to have the index 2. So this variable is a dynamic value. So we are setting this title once, and we're setting it for all the products. So this is why we need that variable. So let's write v.i. If you feel more comfortable, you can just also click on the variable here. So if you expand this field over here, and if you just click on it, you're going to get the same value. All right. Now, if we close this and we refresh the canvas, we can see that the title got updated. All right. Now, we also have this stock over here. So let's update that. We're going to do pretty much the same thing here. We're going to call it set stock. Here, we're going to select our product. We're going to apply it to our stock item. And under configuration, we're going to choose set text, plain text, and here we have our stock value. So we're going to click on that, and we're also going to do the same thing. We want to add our variable here like this. Perfect. Now it's time to replace the image. For the image, we're going to call it set image. We're going to choose the products folder, and we're going to apply it to our product image. And under configuration, we're going to choose set HTML attribute. Why are we choosing set HTML attribute? Well, that's because if we look at the HTML elements, we can see that we have this source attribute over here. And we also have a source set attribute, which we're also going to replace. So let's close this right now, and let's choose first this SRC attribute. Awesome. And now we have to specify the value of the source attribute. And we have an image URL inside of our request. So we can go to image URL, and here we're also going to replace our variable. So v.i. And now let's do the same thing for source set. So we're going to choose again set HTML attribute, SRC set like this, and we're going to add the same value once again. Perfect. Now if we close this section and we refresh the canvas, we should see all of the products updated. Awesome. We can see all of the images have been mapped correctly. All the titles are mapped correctly, as well as the stock values. Perfect. For these add to cart buttons, we have to configure a completely different request. And let's go now to data out, and here we're going to create a new request. We're going to call it add to cart. And under app, we're going to select Xano. Now let's head to Xano and let's copy our URL endpoint. If we go under API and we click on our API group, we can see that we have this cart endpoints here. And what we need to do is we need to add a record to the cart. And now we can see that we have several fields in this cart endpoint. We have an integer, which is the user ID. So that's the ID of the current user, which we need to send. Then we have a quantity. This is the product quantity. And we have the product ID, which is the ID of the product that's being added to the cart. So let's copy the path of the endpoint here and let's head back to Wiz. We can paste this in here. And under method, we're going to choose post. Okay. And now we have to specify the inputs. So we said the first input is this user ID. So we can just write user ID. Remember, this has to match whatever we're having here. And here under value, we're going to expand this. We're going to go to load user. And here we're going to choose the ID of the user that's being loaded. Perfect. Now we're going to add another input. Our second input is the product quantity. So how many products do we want to add to the cart? In this case, the value needs to match this input. So we're going to expand our input fields and we're going to choose product quantity. Now here, we also need to add our variable because we need to know the index of the product that's being rendered. So we're going to write v.i here. And now we have to add our third input. And now we have to add our third input. Here, we're going to add the product ID. So we're going to write product ID. And here under value, we're going to add the product ID. So here, we're just going to replace this number zero with our variable and we're going to hit done. Perfect. And now we can try to run this request and we're going to see if it was successful or not. So if I try to run this request now, I'm going to get a message that we're unauthorized. So this is because the endpoint is protected and we need to send the token to the endpoint. So we're going to go under authorization and here we're going to add our cookie token. So we're going to go here under authorization and here we're going to add our cookie value. Remember, earlier we saved this token in our first video and here we're going to use it again. So we're going to expand the cookies field and we're going to click here. Perfect. And now if I try to run this request again, it should be successful. And perfect, we added some items to the cart. Awesome. Now we just need to apply the action to these buttons so that this request gets triggered when a button is clicked. So let's go to actions and let's create a new action. I'm going to call it add to cart. And here I'm going to select the products folder. I'm going to apply it to the add to cart button. And under configuration, I'm going to choose on click. On click, I'm going to perform a request and the request is going to be our add to cart request. Perfect. Now I can hit close. I can refresh the canvas. Now if we increase the quantity on this item and we add the item to cart, we should see this request being executed. And we can see some items have been added to the cart. Awesome. Eight, that's matching our input and it's the product with the ID of two. Perfect. Now we just need to add the functionality here to the cart so we display the items that have been added to the cart. Before we can display any items, we need to create a request that's going to get the items that have been added to the cart. So let's go to data in and we're going to add a new request called load cart. And under app, we're going to select Xano again. Now here we have to add our endpoint. If we go back, we can see that the endpoint is exactly the same as before. The only thing that's different is that this is a get request. So it's a data in request. All right, so let's head back here and let's just write forward slash cart. Awesome. And under method, we're going to choose get. Perfect. This is also a request that needs to be authorized. So we're going to add our cookie here. Now it's time to set up a trigger for this request. But if we look at the endpoint here in Xano, we can see that the endpoint is going to give us only the cart of the user that's currently logged in. Now we just have to specify a trigger for our request. Here, we're also going to load this on page load. And we're going to load it on each page that has a cart item. If we refresh the canvas and we go to page data, we can see in our sixth request here that some items have been loaded. And these are all the items that have been added to the cart by the current user. Now let's use these values to render a list inside of our cart. We can expand the cart like so, and now we're going to create some actions for that. Let's first create a folder called cart, and then all of our cart actions are going to be inside. So let's select cart here, and let's first create an action called render cart list. We're going to apply this to our cart item. Under configuration, we're going to choose render list. And here we have to specify the array from which this list is going to get rendered. In this case, it's this items array. Awesome. And now we have to specify a variable from which these items are going to be indexed. In this case, I'm going to choose the same variable which we had before. Perfect. Now it's time to set up the title. So first we're going to call the action set title. We're going to add it to our cart, and here we're going to apply it to our cart title. We have cart product title. Perfect. And under configuration, we're going to choose set text, plain text, and here we're going to choose our product title. Just like we did before, we need to replace this zero with our variable. Like so. Awesome. And now if we refresh the canvas and we open our cart, we can see that we have several different products. Now we just have to replace the quantity label, the price, and the total. And we also have to apply an action to the remove buttons here. Let's start with the quantity. We're going to set the text again, plain text. Here we have quantity, and we're also going to choose our variable here. Awesome. If we now refresh the canvas, we can see that the quantity also got updated. Now it's time to set the price. So we're going to call the action set price, we're also going to add it to the cart, we're going to choose the price element, and we're also going to set the text. Awesome. Just like we did before, we're going to write the variable here, and you'll see that we still don't have the dollar sign. If we refresh the canvas, we can see some numbers here, but we don't have the currency. So let's add that really quickly. If we look at our last action that we created called set price, we can go to configuration, and all we have to do here is add a dollar sign before. And now if we refresh the canvas, we can see that everything's working as it should. Perfect. And now we just have to add a total here. Here we're going to use a little bit of math. We can basically multiply these two numbers to get the total. So I'm going to call it set total. I'm also going to choose cart, and I'm going to apply it to the cart product total element. We're going to set the text again. And here we're going to select the quantity, and then we're just going to multiply these two values. You can do math inside of these fields as well. So now we just have to add product price, and we can see that these two numbers get multiplied. Now the only thing we have to do is replace these zero numbers with variables. Perfect. And awesome, everything is getting calculated correctly, but you'll see that we don't have the dollar sign, so we have to do the same thing again. Awesome, that's it. The last thing we need to set is this total over here in the corner. And we have this value in our request already, so we can just click on the plus sign here. We're going to call it set total. And we're going to apply it to this cart total sum element. Under configuration, we're going to set the text again. Here we're not going to forget the dollar sign, and we're going to choose this total value. Now this value comes already in the request, and we don't need to add any iterator variable. Now if we reload our canvas, we can see that our cart is looking just as it should. Now we're missing two more things here. First, we have to add this remove cart action,