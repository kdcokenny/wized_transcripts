In this video, we're going to learn how to build a Mario-inspired chat GPT interface. We're going to build the backend in Xano, and we're going to build the frontend in Wysd and Webflow. Today, also, we're going to be joined by Jake from Xano, who's going to walk us through the backend. Jake, say hi to the people. I'm excited to be here and happy to get in here and learn as we go. Alright, so this build consists of a few parts. We have our Wysd instance, we have the Webflow project and we have also the Xano backend, which Jake is going to walk you through. So, the way this is going to work today is, I'm going to first show you how this is structured just so you know how the frontend is going to be built, and then later Jake is going to walk you through building the backend for our application. Finally, at the end, we are just going to plug our frontend into Jake's backend. And that's going to be it. Hey everyone, yes, I'm Jake Spyrick, and previously, I was over at 8020 I got into NoCode via a marketing operations job and just kind of loved it, and so yeah, and then I just recently joined Xano in May, so I am also brand new to Xano as well as Wysd. And so, yeah, you're going to see me, I might still struggle a little bit on this, but we'll all learn together. So, it's pretty fun. I've also got Michael Udinski, who's the developer advocate lead over at Xano, and he is a total boss, and so he will be the one to bail me out if I get stuck. Awesome. And for those of you who don't know me, I'm Emmanuel, and I'm a content creator here at FinSuite and Wysd. Alright, with that out of the way, let's start looking at our build. So, we have basically here a simple page, which contains our chat. We have here a form that allows us to submit different messages, and we have these chat bubbles. So we have a message component, and inside we have the message content. So, the way we structured it is like that, because we want to differentiate between messages that have been sent by the user and responses from OpenAI. So our messages will be on the right side, and OpenAI messages will be on the left side, but all of this will be pulled from the same array basically. So, we're going to just append the right class to the right item, depending on who sent the message. And, yeah, that's pretty much it. Besides that we have also a login page, a signup page, but we already covered how to build an authentication layer for our Wysd app several times, so we're not going to go through these details today. We're going to just skip that part. So, just a few things that I wanted to just make sure I call out in the beginning so I don't forget, so you can hold me to this. We're just going to show how we can connect to an external API in Xano. There's a really cool feature that, if you've been using Xano, there's a chance that you haven't used this yet, but it makes it super easy to set up your initial API call. And then subpath is a cool little feature that will allow us to kind of drill into the JSON response, and so we'll look at that as well. How to debug, because I might introduce some bugs. And then also the Swagger documentation that automatically gets produced for you, which is pretty cool, and allows for some testing as well. So, if we jump in the very first thing I want to do is just kind of take a look at the API documentation. So, anytime you start working with a new API, the first thing I always do is go to the documentation because obviously it's a very specific thing that you have to kind of figure out. The very most basic thing is just what's the verb of the type of call we're doing, and then what is the URL. So, a lot of times you'll see this example request over here, and you'll see this curl right here. So, it might look a little bit daunting when you first look at it, but the cool thing is that if I copy this and I hop over into Xano, I can go to add a new endpoint. We're just going to start from scratch, which also could seem a little bit daunting, but what we're going to do is we want to start a new conversation with chat-gpt. So, I'm going to call this one conversations-start, our verb is post, and eventually we're going to turn on the authentication for now. Let's just do it without. Cool. So, now I've got this open canvas here. If I go to the function stack and hit this plus, I'm going to go down to external API request, and here is where the magic happens. So, I can just click on import curl and paste this in. It doesn't matter if I understand it, Xano understands it, so I'm going to hit import, and the cool thing is that it will set up all of, so we've got an object here, it's setting the model, which is gpt, and I'll just show you kind of what this looks like over here. So, you can kind of see this is just JSON right here, and so it's just setting this up for us. So, if I hop back here, and then we're going to have a messages array with an object that has a role key and a value of system, and then a key of content and a value of, this is just their initial response here, and so we'll play around with this to make it talk like Mario, potentially. And then in the second item in the array, we have the user and this is where we're going to put in the question. And then down here, we have the part that we're just telling the API we want to use JSON and here is our key, which is going to allow us to connect to the OpenAI API. And so, in the OpenAI settings, if I go up to personal, and then API keys, I can create a new key, and so I've already done that here, and sorry, I'm going to revoke it right after this. But the cool thing is that we're going to also set that up inside of our environment variables, and this is a great way to, A, keep it secure, and also as soon as we want to go back and change it, it's super easy to do that. So I can go to settings, go to manage, and then I've got my OpenAI API key here, and we're going to reference this in just a second. So that's how you can get started with that. So let's hop back to my API. Alright, so one, there's multiple ways we can do this. We could just concatenate this, but I kind of like using a filter with replace, and what we're going to do is just take this, and we're going to replace it with an environment variable, and you can see all my environment variables right here, and there's our OpenAI key that we created. So we'll update that, and hit save. So here's our chance to just do our little hello world. So I think I've got everything, like the very bare minimum that we need is just kind of putting in that key. So previous to this, and I am brand new to working with OpenAI as far as the API is concerned, so last night I put in a payment method because you do need to put that in. Thankfully it's pretty cheap for at least this version. So now I'm going to go ahead and hit run and debug, and since I'm not passing any inputs, I'm just going to hit run, and it's just going to use what was default from the documentation there. So this is what we passed in, and then here is the response. And so it's just going to give us something back that says, how can I assist you? So one other thing that's helpful is if we copy this, we can also come down here, and if we wanted to just use a part of this, we could create a variable. So let's just try that. I'm going to go to data manipulation, create a variable, and I'll just call this response. So here's our API response. This is all of this JSON here. If I hit sub path, I can paste in all of that JSON and hit define. And now I can visually drill in, and I want to look at the response here. I could do the entire response object, or maybe I just want the result. So I could do this. It automatically creates the dot notation that we need, and this just makes it a little bit easier to visually parse through the JSON like this. You can definitely just do it by looking, but I think this is a nice way to avoid human error. So now we've got a variable with the response, and that's just another way that we can work with that. So the next thing we want to do is go ahead and create a way for us to pass in inputs from the whizzed side of things. And so what we can do, what do we want to call this, Emmanuel? Question or message? Message sounds good. So we're just doing this as a text variable, but you have lots of options. So go ahead and save that. And so basically when we do a post here, we're going to include this in the body of the JSON for the post there. And we'll take a look at the documentation in a second, because I think it's pretty cool that it gets created automatically for us. And so when you're building in a team, I'm able to hand Emmanuel the Swagger documentation, and he can just look and see exactly what are the parameters that I can pass in, what are their types, and what kind of response do I expect. And then he can even test it right there. So it's pretty cool. So what we're going to do is now look back at our API request. And the nice thing about using that curl import is now we just need to go through and find the parts that we want to be variables that we want to replace with what's specific to what's either dynamic or specific to what we're trying to do. So I have a little prompt here and we can kind of improve it as we go. What I've got here is just, you're Super Mario and you're giving life advice. And so we're going to see what kind of life advice ChatGPT gives us. I ran into one little bug when I was testing this last night where I tried to have it write a love letter from Mario to Princess Peach. And apparently that counted as lewd. And so it didn't give me a response. So I tried to send a text message to Peach and that was acceptable. So be careful when you're writing these prompts. So now we're getting down to the part where this is the user and this is us asking Mario our question. And so here rather than hard coding this every time we want to go ahead and get that from the whizzed interface. And so I'm just going to choose that. And you can see here this is coming from my input. I only have one input here but that's the one we're going to go ahead and use. I'm going to save this. So let's see if this will give us a response. What should I do when I grow up? Okay. Alright. So maybe Mario doesn't want to give us a career council advice. But at least we've got a little something. Just remember to stay positive. Keep jumping over those hurdles. So hey, it's working. I think this is a starting point to at least be able to test this out over in whizzed. So the very first thing that I need to do before it's accessible. So when I'm running and debugging on this side of things it's not helpful to the front end until I hit publish. So when I hit publish I can say what did I change and then go ahead and hit publish. So now this should be available to manual. And what I can do is if I come back here I see my documentation right here. If I click on this and maybe you're not as excited about this as I am but I did work on a team of developers when I was a product manager and the amount of time that it took just to get something like this was just way too long. And so the fact that this does it right out of the box is pretty darn cool. And so what I can do is I can click on try it out and I can put in my message. What are some things to do and what's it called the toadstool kingdom. And then if I execute that play the Jeopardy music and we get our response and let's see what he says. So we've got some some travel advice here. So that's kind of cool. So what I can do is I can share this with a manual and it'll give him everything he needs to know. It'll give him the base URL and he'll know exactly what endpoints he can hit in UIST. So one thing that I didn't mention here is that I also added a small JavaScript snippet that just handles the size of this message field over here. So basically what this does is the following. Let me just show you. So if I look at the published project and if I'm typing in a message if the text is long it will just expand this text area to some extent and then once it reaches the max height it will set the overflow to auto. So yeah that's all there is to it just so you're not confused why this thing is expanding. Now let's jump into UIST and let's continue. Alright so we have our login and sign up functionality set up and now I'm going to move to the chat functionality. So the first thing that we're going to do is I'm going to connect to that endpoint that Jake just built right now and we're going to pass a message from our app to the backend. So the way we're going to do that is we're going to use data out because this is a post request and we're going to call it post message. Under app we're going to select Xano which I already added to my apps I basically just copied this base URL let me just show you this one over here and I also need this conversation start endpoint as well. So let me go back to UIST under method I'm going to choose post and under endpoint I'm going to write here conversation start alright. Perfect and here under input we are having what was it Jake was it message or messages? Okay there we go so it's message. Oh yeah that's what it's receiving. Yeah and we have to pass it a string so we're going to head back to UIST here we're going to write message and as the value we're going to pass the input value that we have over here. So input message there it is it seems like it's empty right now so we can type in a message hello Mario hello Mario okay and now we can see here that the message gets through. Perfect and yeah this is all we have to pass through right now we just have to set up a trigger but for now we can just trigger it inside of the request panel and that should be okay. Alright and here we can see we got a response from the backend and we're getting actually quite a lot of data so we need to find the response here in this mess Do you want me to update the API so that it only returns the result? Yes we could do that. Cool. So the result is under oh there it is okay perfect ... ... ... ... Okay why did the tomato turn red? Because it saw the salad dressing. That's a joke. Alright I actually have a better one