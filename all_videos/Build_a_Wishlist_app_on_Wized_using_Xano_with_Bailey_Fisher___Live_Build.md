Hey everybody, my name is Bailey, founder and head of product at BlackBeak, and today we are looking at a clonable walkthrough of making a wishlist app using Wizd, Webflow, and Xeno. Let's dive right in. So we have my Webflow project here, and what we have is we have a wishlist application. And this is actually using the design of our Black Market, which is coming up. So that's pretty fun. But the idea here is we have a wishlist item, and we can see the product author, the title, and then who is liked by. This is where some of the advanced functionality comes in. Project author, we have a profile picture. This profile picture is going to come directly from Google authentication, so a user doesn't have to upload it. As long as they log in and authenticate with Google, their profile picture is going to appear, and that's going to be great. And then same printout here. When you like an item, we're going to add that to a list, and then we're going to show three items, three images from the list of people that have liked it. And yeah, so that's a little bit more advanced than just showing, you know, oh, it's a colored thumbs up. It's like a filled thumbs up button and the amount of likes. We're going to be showing three liked images, three profile pictures that have liked it, as well as the amount of people that have liked it. And then maybe it's saying, you know, it's liked by X and X. So if you notice on Instagram, it'll say liked by X, and X would be a person that maybe you know, just to give a bit of relevancy there. Furthermore, we have this ad section where we can add items to the to-do list, and that's pretty straightforward. So we have our Webflow account. We have our Webflow site built out already. I'm not going to touch this too much except for ads and attributes. But let's go and start with our workspace name. So we're going to do test dashboard. We're using Webflow as our front end, and we have no other data source. We need user. We need a likes table to record all of our likes. And we need a wish list to record our wish list items. We need Google authentication, which is not done through here. No email, just Google. And we can create the workspace. Once we're in here, we need to go and set up our Google authentication. So they can go to a marketplace, purchased, and we can see we have Google OAuth installed already because we selected that in the workspace setup. We're going to configure this. And now we need our OAuth client ID and our secret. And to do that, we're going to go to Google Cloud Console. And you can see I already have in the API tab here, just go down here to APIs and services, and then OAuth consent screen. We can see I already have this setup as wish list. And first things first is we need to set up our redirect URIs. These are the redirect URIs. These are the URLs that we're going to send the user to to actually run the authentication call on. So I'm going to go to my Webflow site. I'm going to make a new quick page and we're going to call it off. And this is going to be a really basic page. I'm literally just going to put some text here. That's going to say authenticating. If I could type authenticating, yeah, that's correct. And let's just center the body of this page. And that's fine. That's all we need. Once this is published, I'm going to copy the URL. Okay, excellent. Once this is done, I'm going to copy the URL here, the auth URL. And then we are going to go and paste this inside of the redirect URI. Now, this should be all we need for this because that's what the page we're going to redirect to actually authenticate users on. So I'm going to save this. And then once we save that, we're going to go back to our client and we need to get the client ID to secret. So client ID and secret. We're going to update that. And now we are set up there. So now we can go to our database. We can see we have users and end users. We have email password, but we don't actually need password. We have email, Google auth, and that is all we need. Name is fine. We also need a image metadata for profile picture. You know what? We'll call it pic. How about that? Now in our wishlist, we need the user that actually created the item. So we're going to do a reference table and we're going to reference this to users. And then we also need text. We also need the actual like wishlist content, we'll call it. So we need the person who created it, the wishlist content, and that should be it. Then once we go to the likes table, we need the user that liked it. We need the wishlist item it is attached to. Okay. Now that we have the databases set up, let's go and set up the wid site. Test wishlist. This is the domain we now want. Grab my code. Pop it into my custom code section. Right in the head. They still want it in the head, right? Yeah. Save that. Publish that. Now we're done with Google so we can close that. Wait for this to publish. Continue on with size. And here we are. Okay. So now what we're going to do is we're going to build our first application. And we're going to go to the API settings in Xano. And as you can see, we have two API groups here. So I'm going to go and I'm going to get the, let's do Google Auth to start. And so we want the group base URL. We're going to copy that and we're going to paste that into our app. We're going to call it Xano. It's a Xano app. And then the base URL. Now that we have this, we can go and start with a data out because we're doing. Hold on. Hold on. My apologies, we wrote data in. And this is going to be, I believe it's going to be init. That's correct. Google init. And what we're going to be doing here is we need to initialize Google's authentication protocols to authenticate the user. I'm not going to bother with folders for this, but then we need to get the raw endpoint. So because we already have the app created, all I need to do is I don't need this anymore. I just need the endpoint of it. And if we go into the init, we can see that the endpoint is literally just this right here. So I can copy this, bring this in, paste it. We're going to call it get, and I really don't need anything else here. And you can see if I run this, it is going to return me the URL that I need to redirect the user to. So what I need to do now is I need to say, okay, navigate to this URL only if this request equals 200. We're going to close this. Now we need to create our action for it. We're going to call it Google init. It's going to apply to you. And now we need to add our attributes. I like to add our attributes kind of as we go, not just all at once, because sometimes if you do all at once, you'll miss some here and there. So I'm going to go to my login with Google button. I want to make sure it's not linked anywhere just yet. And, oh, but you'll look at that. Okay. We already have an attribute set. Like I said, we copied a lot of this from the black market clonable. So I'm just going to grab that and we should already have. Oh yeah. Look at that. Okay, great. We already have a lot of them. So we're going to log in Google and on click perform request Google init. Let's close that. And let's preview this. Let's click our button. We're missing the redirect URL. Ah, I completely forgot. So the text here, we need to redirect URI. Okay. So what we're going to do is we're going to go to wiz, data in. We are going to send the redirect URI as a parameter. Keep in mind it's URI, not URL, redirect URI. We need to send this over. Our redirect URI is the off page that we created earlier. So I'm going to copy this. Paste it right in there, but we need the, we need the HTTPS. This looks good. I don't know why it's, okay, let's find, let's give it a shot. There we go. We're going to authenticate. Now it's going to send us to the off page, but nothing's happening. But nothing's happening. And the reason nothing's happening is because we haven't built a wiz request yet. But what we're going to do is we need to get this code here. And this code, everything after the equals is what we need. Under the ampersand. That's what we need there. And that's our authentication code. So now we can go to Xano, take a step back and we see we have our continue endpoint. So I'm going to go into here and it wants the code and the redirect URI. I'm going to copy this. We're going to go to wiz, make a new data in. We're going to call this Google continue. Our application is Xano. And I'm actually going to rename this because this is the Google endpoint for Xano. So I'm going to rename this Xano Google off. Right? Because if you go back here, we can see that we have Google off and then default. And we're using Google off right now. So we just want to be clear with that. Let's go back to our Google continue, our endpoint. We can paste edit. Our method is get. And now we have two URL parameters we need to send here. We can see our URL parameters, our code and redirect URI. And our redirect URI is going to be the same URL here. And our code, because our code is using a URL parameter right there, we can use that in wiz to get that. So what I want to do is I'm going to close this, go to settings. I'm sorry, go to page data, general, and then navigation. We're going to click the plus, enter in code. And now we're going to get that code from here. And there we go. As you can see, it's showing us undefined. But if I go to canvas, add a new parameter just for testing, say test, we can go back here and it says test. So it works. Let's clear that parameter. And now we can go and set up our trigger. And because this is on an auth page, we want to run it on page load. I'm going to go to this page, this auth page. And I am going to set an attribute to the body of the page. We're just going to call it trigger auth. And we're going to wait for that to publish. Now that that's published, let's refresh our attributes. And we can set up our trigger. It's going to be on page load. Let me scroll down. Trigger auth is conditional. So we want to make sure that the Google init ran successfully. And we also want to make sure the code's there. So actually, I'm going to make it dependent on this code, right? Because I don't want to run this if the code doesn't exist. So what we're going to do is we're going to say if the code doesn't equal null. And as you can see, parameter code equals test right now. And I'm using the exclamation mark plus the equal sign to do an inverse effect. Okay, this is inverting this. So say doesn't equal null equals true. If I did equals equals, it would be false. But if I invert the Boolean, it is true. So we're only going to run it if that's true. I'm going to save that. And I am going to, I can preview this now. But what I want to do is after this is successful, I want to redirect the user. But I only want to redirect them if Google continue is successful. I want to redirect them just to the home page. So I'm just going to do a slash. Now that it's done, let's close that. And I'm going to build two visibility conditionals here quickly. So what we're going to do is we're going to say Google visibility. And we're going to say that log in Google is only visible if the authenticate call is correct. So what I need to do here is I need to actually, and this is where testing is a little tricky sometimes, because what I can do is like, if I go and test this right now and okay, hold on visibility. Let's just say this is true. Cool. I can log in with Google, select my account, redirect me to auth and boom, it redirects me. So we're good. We're authenticated, but I don't know my cookie. I don't know what cookie I'm using. So to test this, I could disable the trigger on load by going to my data in my continue and disabling this on page load. Let's just put it as a variable for now. And then what I could do is I can rerun this authentication. It's not going to trigger. Okay, hold on. Don't trigger. Stop. Stop triggering. Okay, let's try it again. Log in with Google. Blackbeat. Okay, good. Now we're going to copy the code. Okay. And we're going to whiz, and we're going to say, we want to just manually enter this in. This is purely for testing. If you want to figure out how to test Google Auth on your whiz side, because you can't, I can't open Google Auth on whiz project, on like whiz specific project, because it's iframed. This is how we have to manually test. And if yes, it'll navigate us to the homepage. So let's run this. Boom. It works. You can see it got my name. It got my email. It got my token. Okay, great. We're good. One thing we want to do before we continue is we want to get the profile picture from the user. Because you can see this API call here, and I'll go to my Google continue. We go to request history. This API call is only sending us the name, the email, and the token of that user. Which is cool, but we're not getting the profile picture. So the way we get the profile picture is we need to go into one of these custom functions. Now I'm going to click on the blue text to open up this custom function. And here's our API call to Google. And we can open up this. We can see we're setting it an access token. And if I run and debug this, and I'm just going to take a step back and go to that token I got. Continue. We're going to go to our history. We're going to get this token. So I'm going to get this token. And then what we're going to do is we're going to go and click on here. And then we're going to run debug. Let's see what this gives us. Pre-condition fail. Because it didn't equal 200. Because we've already run the Google continue. Let me troubleshoot this quickly. Google continue, Google init. User info.id. So this, okay. So what we're going to do with that is this here is going to be our user info.id. And then we're going to go ahead and run debug. Okay. So what we're going to do with that is this here is Google author ID. This is what it's returning. Returning token. Where are we getting Google author ID? Stop and debug. We're going to stop and debug user info. We're just going to see what we get. And I'm going to publish this. And let's rerun this on the front end. And then I'm going to copy this. Because we don't have it set up automatically right now. Paste this puppy in here. And what we could do actually is I'm going to. Let's see. I'm going to run it right here. We're going to paste our code in. And our redirect is this. So instead of running in Wiz, we're doing it all in Zang. And then let's run debug. There we go, guys. You got the picture. Okay. So now we did the stop and debug. And that shows us all the user info that is returning to us. That is being returned. So what we can do here is in our get record. As you can see, we're trying to find the user info dot ID. This is the ID we're trying to find if it already exists or not. And if it doesn't exist, we're going to add a record. And in that add record, we also want to send through a picture. And this picture is going to be our picture here. And I believe we might need to do some manipulating of this picture here. But we're just going to try it right here. So what we're going to do is we're going to use dot notation. So I can copy this result here. I'm going to go into picture. And we're going to say we want to get user info. But we want to do a sub path. And we want to define the sub path. And we want to get the picture. Now we might need to do some work there. I don't know if we can just send a URL straight through. I can't quite remember. But we're going to save that. And what we'll do is let's get a new auth code. Let's run debug. Let's go back. Run it again. Copy the code. Go back. Replace the code. I can't just... Can I? Oh, there we go. Very nice. Run. And the... Let's just turn this off. I believe my code I pasted was incorrect. So I'm going to redo that one more time. Okay. Let's go to ZL. Let's go back. Yeah.