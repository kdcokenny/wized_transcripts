Hello and welcome to another live session. In today's video, we're gonna learn how to implement Charts.js and how to fetch data with UIST and push that data over to our Charts.js instance. Alright, now keep in mind that these things that we're going to learn today are going to be a little bit different in the future. We are working on releasing a new JavaScript API, so the process might change a little bit in the future, and we will also release a Charts.js add-on for UIST. So, both of these things are coming, but if you need to set up charts in the meantime, you can follow these methods that we're going to outline today. Alright, without any further ado, let's jump right into it. I'm not starting entirely from scratch here, I'm gonna share this code with you here, but I basically just have a boilerplate implementation of Charts.js, meaning I just went to the docs here and I literally just copy pasted this code into my project and it works. Now, you can see here that we are getting data that's hard-coded, so if we change any of these values over here, that's going to be reflected in our chart immediately. But what we want to do is we want to get that data from our database. In this case, it's going to be Xano, but you can literally get the data with UIST from anywhere else. So, we're going to get data dynamically and we're going to try to push our own data into these Charts.js charts. So, the only thing that I customized in these charts are the colors so that they're matching between the different charts. So, we see here we have yellow, red, blue, and here we have some additional colors on this one. And also, we have this panel that has all of the charts combined and here you can see we have basically several charts on one page. Now, let me just show you the Webflow project, how that looks, just so you can understand how all of this works right now. And also, I'm going to release this project as a clonable, so if you're watching this video, just check out the description below and you can find this clonable down there. All right, so let's go to our line chart. I'll open the same thing in Webflow and I'm just going to show you how this thing is structured. So, in our Webflow project, we have this dashboard over here, which is called Chartwise, and here we have an HTML embed. And this embed has only one element inside. Now, we have a canvas element with an ID of line chart, written with camel case like this. And in the other charts, we basically have bar chart, donut chart, and in the last project, in the last page over here, which contains all of our charts, we have all of the charts in separate embeds. So, we have canvas with the ID of line chart, which is the same as there. Then here we have donut chart, and below here we have bar chart. And the way this works is as follows. So, let's go to our getting started examples in charts.js and I'm just going to walk you through the code. So, we already have this in our Webflow project. Now, the next step that we have to do is copy this script over here and paste it into the head code of our Webflow project. So, I can just copy this over here. I already did that before, but basically, if you, if you're following along, then just make sure to paste it in the head, either of your project or of the specific pages where you want to have charts. So, in this case, I'm just going to add it to the pages separately, but you could just add it globally as well. So, you want to make sure that this script is pasted in the head code. Okay, and now here below, we have code that's in the body. So, we have this code and the only difference between the example that we have up here in charts.js and what I have in my Webflow instance are, first of all, the colors, which are customized, and the second thing is we have this wrapper over here. So, it's, so it says here, document.addEventListener, DOMContentLoaded, and then we have all of this code inside, until here. So, if you're coding along, make sure that you're having this, document.addEventListener, and then which event? It's the DOMContentLoaded event, and after that, we have a function, and here inside of these brackets, inside of these squiggly brackets over here, we want to paste our code. So, think about this just as a Lego brick, basically. And what this does is, it waits until all of the DOM elements have been loaded until it executes the code. So, first, when all of our elements on the page are rendered, it's going to run whichever code we paste inside here. And here, we're going to paste our charts, basically. All right. So, I'm just going to publish that, and I'm going to show you how these charts look once again. And now that this is ready, let's get over to Webflow, and let's start building this configuration. So, what we're trying to do here is replace this data set over here with data that we're fetching from Xano. So, you can start a new UIST project over here. Once you started a UIST project, you can add Xano to MyApps. I'm going to also release this Xano database as a clonable, which you can find in the description below. So, the database is very simple. It has just, like, a user field and an additional sales field, and we're going to just try to configure that. Okay. So, let's add Xano to our project. Here, we're going to select Xano. And now, we have to add the Xano API group base URL. So, we're going to go to API here. I'm going to copy the endpoint URL to any table. I'm going to paste this in here, and I'm just going to make sure that I'm deleting the endpoint over here, because I don't need that. I just need the base URL. All right. Now that that's configured, I can start building my requests. So, I'm just going to have two data in requests, and I'm going to get the user data, and I'm going to get the sales data. So, if we look at our backend here, we have basically a sales table with just a few values, and we have a users table with three users. Okay. So, let's get that data inside of UIST. So, we're going to go to our API. We're going to check these endpoints over here. So, we need the sales endpoint, which is a public endpoint, as well as the user endpoint, which is also public. So, let's start with the users. So, it's a get request, and we're going to get users from this endpoint over here. So, let's switch over to UIST. Here, I'm going to select Xano, and I'm going to call this get users. Under method, I'm going to select get here. I'm going to write forward slash user, and I'm going to trigger this request on page load, basically. So, I'm going to run this at wherever the main loader is present, which is basically every page. All right. So, let's run this request, and let's see if we're getting the data. All right. Here, I have an issue on my endpoint, so I'll just make sure to change that. So, here in Xano, I'm returning sales1, which doesn't exist. So, let me just fix that really quickly. Okay. I'm going to publish my changes. All right. If I now try to run this request again, I can get all of the users that we're having, basically. Awesome. Now, I'm going to do basically the same thing for the sales data. So, I'm going to create a new data in request. I'm going to write get sales, and here I'm going to select Xano. Here, I'm going to write sales, so forward slash sales, method get, and I'm going to set up the same trigger. So, if the attribute is present, main loader. All right. And here, I'm getting all of the sales data as well. Perfect. Now, what we need to do is we need to make sure that the data that we're getting here is being passed over to the charts. Now, how do we do that? Well, we can go to help.wist.com, and here, we can check the JS API documentation. And here, we can basically see how we can get data from WIST. So, we can see that whatever we're doing, we always have this window on load async callback function, and inside here, we paste some JS code. So, we're going to use the same thing here to refactor our code in Webflow. So, let's just copy all of this. I'm going to paste in, I'm going to paste it in here at the top, and here, I'm going to write some JS code. So, basically, we can use this to replace whatever we're having here. So, let me just take everything that does not belong to this event listener. So, until here, and I can just delete this over here. And now, I'm going to paste my code below. So, here is all the data that I need for the charts. I'm going to hit shift and tab, so it's linted properly, and I'm going to delete this. Perfect. And now, basically, the charts is going to wait until window is loaded. So, yeah, let's get back to UIST, and let's make sure that we are having a variable that has our data for the sales. So, we want to have our sales data structured correctly, so that we can pass it into this charts instance over here. All right. So, let's save this, and let's see if our project didn't break. Okay. We can go here to line chart, and we can see that the line chart is still working. All right. So, now, let's start with our line chart example, and we're going to configure the data for that, and then later, if we have time, we're going to move on to the other charts. So, we can see here that our data looks as follows. We have seven labels over here, and below here, we have seven data points. So, what we're going to do is we're going to create an array from our data that we are fetching from Xano, and we're going to structure it in this format over here. And then, we're going to compare the last seven sales with the previous seven sales in our line chart. So, let's head over to UIST, and let's set this up and running. So, we're going to create a new variable, and here, I'm going to call it last seven sales. Yeah, the initial value can just be set to an empty array, like so, and then, we can create another variable, and we can call it previous seven sales. And that's also going to be set to an empty array. So, now, we're going to go to our sales request. So, we're going to go here in get sales to the after request section. We're going to choose set variable. Under variable, we're going to choose last seven sales, and as the value, we're going to set the value to a mapping function, basically. So, here, we're going to write our squiggly brackets, like so, and inside here, we're going to write our logic. So, we're going to choose this array over here, and we're going to map through this array, and we're going to check where each item in this array, we're basically going to get each value from this array. So, we have item, which is each one of these items, and then item.value. We're using dot notation to access these values over here, and what this will do is it's going to store, it's going to create an array, basically, which has only the values extracted from here. And remember, we needed to set the value to the last seven sales that we have. So, we're going to write here dot slice, and here, this is like a slicing function. You can find all of these array methods by just searching for array methods on Google, and you can see you're going to get a lot of different methods that you can use to change the data of an array, basically. So, here, we're going to write minus seven, and this will give us the last seven items in the array. So, we have here the last item, it's 60, then we have the previous item, which is 15, eight, above here, and so on. Okay. Now that we got that in a variable, we're going to create a new variable, and we're pretty much going to do the same, but we're going to get the previous seven items. So, not the last ones, the previous ones. So, we can basically copy this same code over here, and we're going to change it just a little bit. So, we can go here to set variable. Here, we're going to choose our previous seven sales variable, and we're going to paste this code inside here. Oh, I just copied that. Okay, let me copy everything. Okay. And what we're going to do here is we are going to write from where to where do we want to get the values. So, here, I'm going to write from minus 17 to minus 7. And what this means is we are going to get basically the data from this item over here to the item that's seven items behind the last one. Now, if we would have more than 14 items in this array, then we would just get the last seven and the previous seven before that. So, since we're having just 14 items here, we're getting the first seven and the last seven, basically. All right. Perfect. Now, we have our data properly formatted, and we can push it over to our custom code in Webflow. So, how do we access variable values? Well, we can look at the JS API docs, and we can check here under variables. Okay. So, we don't have actually... Okay. Let me just check. Yeah. We don't really have here a method that shows how to get a value from a variable exactly, but we can get all of the data and then see how to get only the variable data. So, let me do that really quickly, and then I'm going to show you basically what are all the things that you can get from UIST through this JS API. So, let's open the live site. We're going to hit inspect. And here in the console, we're going to write UIST.data.getAll. Let me just copy that. .data.getAll. I'm going to expand this over here. Let me just zoom in a little bit more so you guys can see as well. And here, inside of this object over here, we can see our variable values. Okay. For some reason, the array is empty. So, let me just check why is that happening. Yeah. So, the main loader is not present on this page. Sorry about that. So, I'll just add it to the sidebar so it's globally available. All right. Let me just call it logo in this case.