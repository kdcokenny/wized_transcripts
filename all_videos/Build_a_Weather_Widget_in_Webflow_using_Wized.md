In today's video, we're going to build a full-on project with WSD and Webflow. We're going to build this awesome weather widget that allows you to see the weather in your city. Without further ado, let's get into it. Let's start by setting up our Webflow project. The first thing we need to do is add WSD elements to all of the elements that we're going to use in our app. These are the input, we're going to use the image, temperature, description, and we also want to hide this whole widget while the request is being made. Okay, so let's start with our input. We're going to go to custom attributes and here we're going to write WSD weather input. Okay, next we have the image. Here I'm going to add the attribute WSD weather image. Then temperature, we're going to do the same thing. WSD, we can call it temperature. Now you can call these elements anything you want, but it's always good to add a descriptive name because it's much easier to stay organized. WSD weather title. Here we have weather description. And here on this output, I'm going to call it WSD weather widget. Okay, that's it with the attributes. Now the next thing we have to do is add WSD to Webflow. To do that, we're going to go to the project settings, custom code, and now we can go to WSD and create a new project. To create a new project, simply click on the new project button, and here we're going to enter a name. In this case, I'm going to call it weather widget. And here under staging domain, I have to add the domain of the project. So I'm going to head back to Webflow and I'm going to go to this link and I'm simply going to copy the URL. Next, I'm going to copy this embed code and head back to Webflow. I'm going to paste it in the head of the custom code section. I'm going to save the changes and I'm going to hit publish. Once the project is published, I can go back and open the configurator. The first thing we need to do in our project is add a new app. In our case, we're going to add the open weather app. And here under app, we cannot select open weather, but we can select REST API. And here we're going to make a custom REST API call. Now, we have to add a base URL, and this base URL you can find on openweathermap.org. Here, you can also make a free account, which you'll need for this tutorial. If we now go to API and we scroll down to current weather data, we can click on the API docs. Here, we're going to go to the built-in API request by city name. Then, we're going to copy this URL here and we're going to paste it into our project. Once that's done, we can build our first request. So, we're going to go to data in and we're going to add a new request. Here, we're going to write get weather. And under app, we're going to select our open weather app, which we just added. Now, we have to specify the URL endpoint. We can find this also in the documentation. This part between the base URL and this question mark here is the endpoint. We're going to paste this in here and then we're going to select get for our method. Finally, we have to add URL parameters. We send these parameters as key value pairs in the URL to the server and then based on these parameters, the server will create a response. And we can see here which parameters we can send to our endpoint. So, in our case, we're going to send the queue parameter, which is the city name. We're going to send also the app ID parameter, which is the API key. And finally, we're going to send also the units parameter, which is optional because we want to convert the temperature to metric units. All right. Now, where do you find this API key? You can find your API key by going here to your profile under my API keys. So, let's copy this value. And now let's get back to our project. So, the first key value pair is queue and then here we can write the name of a city. Or in our case, we want to have it equal to the input value because the user will ultimately write in the city name. So, under value, we're going to select input field, weather input. Now, whatever the value of the input is, is going to be sent to the server. Now, let's add our second query parameter. So, here we're going to write app ID equals and here we're going to paste our API key. Done. Finally, we're going to add the third parameter, which is units and we're going to set it to metric. Perfect. And our request is basically ready. We can close this and now if we open page data and we type in a city name in the input, like Berlin, we can trigger our request and we can see that we got a response. Now, you can see that we got a lot of data in this response and it might even seem overwhelming, but if you look at it a little bit better, it's actually quite simple. So, r.1.d, this is just our request number. So, request number one and d is everything that's in this request. So, we have the coordinates, we have the weather, we have the temperature, the wind speed and much more information. Now, the truth is, we don't need all of this. We only need a few fields, but you can see that we're manually triggering our request. Let's go to actions and let's create an action that will trigger this request as soon as the input value changes. So, we're going to add a new action and we're going to call it load weather and we're going to apply it to our input. Under configuration, we're going to select on change and here, finally, we're going to perform our request when that change is made. Under requests, we're going to select our request. Awesome. Now, if we refresh our canvas so the action gets applied and we go to page data, we can type in another city, like Tulum and we can see that our request gets executed. Awesome. Now, what we need to do is take these inputs over here and apply them to our elements. To do that, we're going to go back to our actions tab and we're going to create a few actions. So, the first thing we want to replace is the temperature. So, we're going to call it display temperature and here, we're going to apply it to our temperature element. Under configuration, we're going to choose set text and we're going to set it to plain text. The text is going to equal to the value of our response. So, let's open our data field and let's look at these results. Here, we can find temperature under main.temp and we're going to select that. Now, you can see here that we get this number 30.74 and in our design, this wouldn't look good, so we're going to round this number up. To do that, we're going to use a little bit of JavaScript. So, we're going to write math round and we're going to put this value inside of these brackets, like so. Awesome. You can also find this method in our cheat sheet. So, let's hit done and let's move to our next action. Next, we're going to do the same thing for this element over here. So, we're going to call it display weather and we're going to apply it to our weather title element. Here, under configuration, we're going to set text again and we're going to set it to plain text, just like we did before. Under text, we're going to select this element over here. Awesome. Now, let's do the same for this description over here. So, we're going to create a new action and we're going to call it display weather. And we're going to apply it to our description element. Under configuration, we're going to do the same thing again. Set text, plain text, and here we're going to find the description. Awesome. Now, if we refresh the canvas and the actions get applied, we can type in another city like Sydney and we can see here that these values get replaced. Awesome. Now, the only thing we're missing here is the icon. You can see that we have this icon field which matches this icon name over here. In our case, we created custom icons which we uploaded to Airtable. And as you can see, we named them exactly the same way. All right, let's go back to Wiz now and let's fetch these icons. So, first, we're going to have to add Airtable to our apps. Here, under app, we're going to select Airtable and here we're going to paste in our API key. You can find your API key by clicking on the profile icon, account, and under API, you can find this input field. We're going to copy this value and we're going to go back to our project. Now, we're going to paste it in here and we're going to hit close. Awesome. Now, we can start building our request. So, we're going to go under data in and here we're going to click on the new request icon. We're going to call it get icon and here under app, we're going to select Airtable. API type, we're going to select database method get item list and now we have to select our base. Under base, we're going to select our Wiz weather project and finally, we have to select the table. Now, it's time to set up our filtering. Under view, we're going to select grid view and we're going to add a new filter. We're going to include the record if our first column, which is the icon column right over here, equals and here we're going to add the icon from the request. In this case, it's icon 09n and now we only have to add .png. Awesome. Now, if we expand the response tab and we fire our request, we will see that we got a response from Airtable. Now, we got a bunch of fields here but the only thing we care about here is the attachments URL, which is the URL of the image. Now, the only thing we have to make sure is that this request, a get icon, gets fired after the get weather request because remember, we need this response first in order to get the right icon. So, let's close this, let's go to our first request and here under after request, we're going to add a new action, which is perform request get icon and also, we want to add a conditional because only if the request was successful do we want to trigger the second request because if the user types in something that's inaccurate, we don't want to fire our request. So, let's click on this is conditional and let's set up our condition. We're going to expand this data field here and we're going to click on status code. We want to make sure that the status code equals equals equals 200. This status code 200 means that the request was successful. If the request is not successful, we're going to get another code here. All right, once we make sure that this condition is true, meaning that the request was successful, we can execute the second request. Awesome, all set. Now, let's go to actions and let's replace this icon. We're going to create a new action and we're going to call it display icon. We're going to apply it to our icon image and under configuration, we're going to select set html attribute. The key is going to be src, which means source. Remember in html, you have the image tag and then inside you have source, which is src. And here under value, we're going to add our attachments url from our second request. So, we have here attachment url. Awesome. Now, if we close our panel and we refresh our canvas, we can see that all of the elements get replaced. Awesome. Now, what's a little bit weird is that while the input is empty, we still see this placeholder element. So, we want to hide this whole widget and display it only if this input was valid. All right, let's create a new action for that. Here, we're going to call it show hide weather and we're going to apply it to our widget element. Under configuration, we're going to choose set visibility and here we can set the condition under which this element will be displayed. So, let's expand this data field and let's add our logic. So, what we want to do here is we want to make sure that the request was executed successfully. So, has requested needs to be true like this and then we have to check a few more conditions. So, and is requesting needs to be false. So, we need to invert this value for this statement to be true. In this case, we can add an exclamation mark to is requesting, which means it is not requesting. So, if has requested is true and is requesting is false or is not requesting is true, then the widget is going to be displayed. But we need to add a few more conditions here. We also need to make sure that the request was successful. So, here we're going to write and and just like we did before status code equals equals equals 200. Okay, awesome. This is for the first request. Now, we're going to do this same thing for our second request. So, we're going to write here and and then we're going to go to our second request state and here again we're going to repeat the same process. So, we have has requested is true and is currently requesting is false. So, we're going to add this exclamation mark before here and finally we're going to write and status code equals equals equals 200. All right, I know this looks a little bit complicated, but trust me you're going to get used to it really quickly. All right, let's hit done and let's close our tab. If we refresh the canvas now, our project should be completed. So, we can write here any city and our widget should be working. And if you hit on preview, you can see the whole project in action. And that's how you build a weather widget using Webflow and UIST.